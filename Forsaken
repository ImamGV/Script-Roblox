local repo = 'https://raw.githubusercontent.com/mstudio45/LinoriaLib/main/'

local Library = loadstring(game:HttpGet(repo .. 'Library.lua'))()
local ThemeManager = loadstring(game:HttpGet(repo .. 'addons/ThemeManager.lua'))()
local SaveManager = loadstring(game:HttpGet(repo .. 'addons/SaveManager.lua'))()
local Options = Library.Options
local Toggles = Library.Toggles

Library.ShowToggleFrameInKeybinds = true
Library.ShowCustomCursor = true
Library.NotifySide = "Left"

local Window = Library:CreateWindow({
	Title = 'Forsaken | v0.0.1 (BETA)',
	Center = true,
	AutoShow = true,
	Resizable = true,
	ShowCustomCursor = true,
	NotifySide = "Left",
	TabPadding = 8,
	MenuFadeTime = 0
})

local Tabs = {
	Main = Window:AddTab('Main'),
	Setting = Window:AddTab('Setting')
}

local FPS = Tabs.Main:AddLeftGroupbox('FPS')

FPS:AddDropdown('DestroyLag', {
	Values = {'Builderman Sentry', 'Builderman Dispenser'},
	Default = 0,
	Multi = true,
	Text = 'Destroy Lag',
	Searchable = false,
})
FPS:AddToggle("AlwaysDestroy",{
Text = "Always Destroy",
Default = false,
Callback = function(v)
_G.AlwaysDestroy = v
game:GetService("RunService").Heartbeat:Connect(function()
if _G.AlwaysDestroy then
if Options.DestroyLag.Value["Builderman Sentry"] and workspace.Map:FindFirstChild("Ingame"):FindFirstChild("BuildermanSentry") then
workspace.Map:FindFirstChild("Ingame"):FindFirstChild("BuildermanSentry"):Destroy()
elseif Options.DestroyLag.Value["Builderman Dispenser"] and workspace.Map:FindFirstChild("Ingame"):FindFirstChild("BuildermanDispenser") then
workspace.Map:FindFirstChild("Ingame"):FindFirstChild("BuildermanDispenser"):Destroy()
end
end
end)
end})

local Generator = Tabs.Main:AddRightGroupbox('Generator')

Generator:AddDropdown('FixMode', {
	Values = {'Danger', 'Safe'},
	Default = 2,
	Multi = true,
	Text = 'Fix Mode',
	Searchable = false,
})
Generator:AddToggle("AutoGenerator",{
Text = "Auto Generator",
Default = false,
Callback = function(v)
_G.AutoGen = v
task.spawn(function()
while _G.AutoGen do
if Options.FixMode.Value["Danger"] and game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("PuzzleUI") then
wait(2.5)
for _,v in ipairs(workspace["Map"]["Ingame"]["Map"]:GetChildren()) do
if v.Name == "Generator" then
v["Remotes"]["RE"]:FireServer()
end
end
elseif Options.FixMode.Value["Safe"] and game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("PuzzleUI") then
wait(5)
for _,v in ipairs(workspace["Map"]["Ingame"]["Map"]:GetChildren()) do
if v.Name == "Generator" then
v["Remotes"]["RE"]:FireServer()
end
end
end
wait()
end
end)
end})
